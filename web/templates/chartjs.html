{% extends "index.html" %}
{% block content %}


  <div class="row justify-content-center" style="gap:3rem;">
                <div class="card text-center" style="width:48vw;">
                    <div class="col">Graph Bar</div>
                    <hr>
                    <div class="card-body">
                        <canvas id="chart2"></canvas>
                    </div>
                </div>

                <div class="card text-center" style="width:48vw;">
                    <div class="col">Graph Line</div>
                    <hr>
                    <div class="card-body">
                        <canvas id="chart1"></canvas>
                    </div>
                </div>
            </div>



    <script>
        // Récupérer les données de Flask
        const dates = {{ dates|tojson }};
        const deniv = {{ deniv|tojson }};
        const km = {{ km|tojson }};

        // Convertir les dates en objets Date


        // Créer un nouveau graphique avec Chart.js
        const chart1 = document.getElementById('chart1');
        const chart2 = document.getElementById('chart2');

          new Chart(chart1, {
              type: 'line',
              data: {
                  labels: dates,
                  datasets: [{
                      label: 'Dénivelé en mètres',
                      data: deniv,
                      borderWidth: 1
                  }]
              },
              options: {
                  responsive: true,
                  scales: {
                      y: {
                          beginAtZero: true
                      },
                      x: {
                          type: 'time',
                          time: {
                              tooltipFormat:'DD/MM/YYYY',
                              unit: 'day',
                              displayFormats: {
                                  'day': 'DD/MM/YYYY',
                              }
                          }
                      }
                  }
              }
          });

          new Chart(chart2, {
            type: 'bar',
            data: {
              labels: dates,
              datasets: [{
                label: 'Distance en kilomètres',
                data: km,
                borderWidth: 1
              }]
            },
            options: {
              responsive: true,
                  scales: {
                      y: {
                          beginAtZero: true
                      },
                      x: {
                          type: 'time',
                          time: {
                              unit: 'day',
                              displayFormats: {
                                  'day': 'DD/MM/YYYY',
                              }
                          }
                      }
                  }
            }
          });
    </script>
{% endblock%}

